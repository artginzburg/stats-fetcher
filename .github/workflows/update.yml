name: Update stats

on:
  schedule:
    - cron: '0 0 * * *'

  workflow_dispatch:
jobs:
  check:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout üõéÔ∏è
        uses: actions/checkout@v2.3.5

      - name: Install dependencies (production)
        run: npm i --production

      - name: Update data
        run: npm run update
        env:
          PERSONAL_ACCESS_TOKEN: ${{ secrets.PERSONAL_ACCESS_TOKEN }}

      - name: Commit changes
        run: git commit -a -m "Update stats"

      - name: Push changes
        run: git push
